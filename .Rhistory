library(chron)
dat <- read.csv('C:/Users/zackt/Documents/GitHub/siemens-wind/Data/Data/All Sites Together encoded.csv')
date.clean <- function(d) {
d <- as.character(d)
d <- sapply(d, function(x) paste(x, ":00", sep = ''))
dtparts <- t(as.data.frame(strsplit(d, ' ')))
row.names(dtparts) <- NULL
d <- chron(dates. = dtparts[,1], times. = dtparts[,2], format = c('m/d/y','h:m:s'))
return(d)
}
dat$VisitStartTime <- date.clean(dat$VisitStartTime)
dat$TimeOn <- date.clean(dat$TimeOn)
dat$TimeOff <- date.clean(dat$TimeOff)
codes <- read.csv('Codes and Event Warning Stop classification.csv')
codes <- read.csv('C:/Users/zackt/Documents/GitHub/siemens-wind/Data/Data/Codes and Event Warning Stop classification.csv')
names(dat)[1]
names(dat)[1] <- 'Park_Name'
names(codes)[1] <- 'Code'
codes$Code <- as.character(codes$Code)
table(codes$EventWarningStop)
library(dplyr)
table(codes$StopUrgency)
names(codes)[3] <- 'IsManualStop'
codes %>% filter(EventWarningStop == 'Stop') %>%
filter(IsManualStop == FALSE) %>%
filter(StopUrgency == '6') -> abrupt_stop_codes
abrupt_stop_codes
codes %>% filter(EventWarningStop == 'Stop') -> stop_codes
stop_codes
table(stop_codes$StopUrgency)
stop_urgency_tbl <- table(stop_codes$StopUrgency)
hist(stop_codes$StopUrgency)
hist(as.numeric(stop_codes$StopUrgency))
hist(as.numeric(stop_codes$StopUrgency), binwidth = 1)
hist(as.numeric(stop_codes$StopUrgency), breaks = 6)
hist(as.numeric(stop_codes$StopUrgency), breaks = 5)
barplot(stop_urgency_tbl)
library(arules)
?version
R.version
table(dat$FactorA)
a <- as.factor(dat$FactorA)
a
levels(a)
dat$FactorA <- as.factor(dat$FactorA)
dat$StationID <- as.character(dat$StationID)
dat$VisitId <- as.character(dat$VisitId)
dat$Code <- as.character(dat$Code)
nrow(dat)
nrow(complete.cases(dat))
table(dat$Park_Name)
table(dat$FactorA)
table(dat$FactorB)
table(dat$FactorC)
table(dat$FactorD)
table(dat$StationID)
?complete.cases
